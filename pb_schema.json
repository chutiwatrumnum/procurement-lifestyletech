{
  "collections": [
    {
      "name": "projects",
      "type": "base",
      "schema": [
        { "name": "name", "type": "text", "required": true },
        { "name": "code", "type": "text", "required": true, "unique": true },
        { "name": "budget", "type": "number" },
        { "name": "location", "type": "text" },
        { "name": "status", "type": "select", "options": { "values": ["active", "completed", "on_hold"] } }
      ]
    },
    {
      "name": "vendors",
      "type": "base",
      "schema": [
        { "name": "name", "type": "text", "required": true },
        { "name": "code", "type": "text", "unique": true },
        { "name": "contact_person", "type": "text" },
        { "name": "email", "type": "email" },
        { "name": "phone", "type": "text" },
        { "name": "address", "type": "text" },
        { "name": "tax_id", "type": "text" }
      ]
    },
    {
      "name": "purchase_requests",
      "type": "base",
      "schema": [
        { "name": "pr_number", "type": "text", "required": true, "unique": true },
        { "name": "type", "type": "select", "options": { "values": ["project", "sub", "other"] } },
        { "name": "project", "type": "relation", "options": { "collectionId": "projects", "maxSelect": 1 } },
        { "name": "vendor", "type": "relation", "options": { "collectionId": "vendors", "maxSelect": 1 } },
        { "name": "requester", "type": "relation", "options": { "collectionId": "users", "maxSelect": 1 } },
        { "name": "status", "type": "select", "options": { "values": ["draft", "pending", "approved", "rejected"] } },
        { "name": "total_amount", "type": "number" },
        { "name": "attachments", "type": "file" },
        { "name": "rejection_reason", "type": "text" }
      ]
    },
    {
      "name": "pr_items",
      "type": "base",
      "schema": [
        { "name": "pr", "type": "relation", "options": { "collectionId": "purchase_requests", "maxSelect": 1 } },
        { "name": "name", "type": "text", "required": true },
        { "name": "unit", "type": "text" },
        { "name": "quantity", "type": "number" },
        { "name": "unit_price", "type": "number" },
        { "name": "total_price", "type": "number" }
      ]
    },
    {
      "name": "purchase_orders",
      "type": "base",
      "schema": [
        { "name": "po_number", "type": "text", "required": true, "unique": true },
        { "name": "pr", "type": "relation", "options": { "collectionId": "purchase_requests", "maxSelect": 1 } },
        { "name": "vendor", "type": "relation", "options": { "collectionId": "vendors", "maxSelect": 1 } },
        { "name": "status", "type": "select", "options": { "values": ["pending_vendor", "sent", "cancelled"] } },
        { "name": "total_amount", "type": "number" },
        { "name": "discount", "type": "number" },
        { "name": "vat", "type": "number" },
        { "name": "grand_total", "type": "number" },
        { "name": "terms_conditions", "type": "text" }
      ]
    }
  ]
}
